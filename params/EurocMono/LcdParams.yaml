%YAML:1.0
# LoopClosureDetector parameters:
use_nss: 1
alpha: 0.1
min_temporal_matches: 3
recent_frames_window: 60
max_db_results: 50
min_nss_factor: 0.05
min_matches_per_island: 1
max_intraisland_gap: 3
max_nrFrames_between_islands: 3
max_nrFrames_between_queries: 2


refine_pose: 1
use_pnp_pose_recovery: 1

lowe_ratio: 0.9  # TODO(marcus): get rid, not used
matcher_type: 3

nfeatures: 1000
scale_factor: 1.2
nlevels: 8
edge_threshold: 31
first_level: 0
WTA_K: 2
score_type_id: 0
patch_sze: 31
fast_threshold: 20

betweenRotationPrecision: 10000 # 1/(0.01*0.01)
betweenTranslationPrecision: 100 # 1/(0.1*0.1)

pgo_rot_threshold: 0.001
pgo_trans_threshold: 0.001

#TRACKER PARAMETERS for outlier rejection
maxFeatureAge: 25
klt_win_size: 24
klt_max_iter: 30
klt_max_level: 4
klt_eps: 0.1

minNrMonoInliers: 10
minNrStereoInliers: 5
ransac_threshold_mono: 1e-06
ransac_threshold_stereo: 0.3
ransac_use_1point_stereo: 1  # if 1, use rotation. else arun method
ransac_use_2point_mono: 0
ransac_max_iterations: 500
ransac_probability: 0.995
ransac_randomize: 0
disparityThreshold: 0.5
# Type of optical flow predictor to aid feature tracking:
# 0: Static - assumes no optical flow between images (aka static camera).
# 1: Rotational - use IMU gyro to estimate optical flow.
optical_flow_predictor_type: 1

# 2D-2D pose estimation method
2d2d_algorithm: 0 # Stewenius
optimize_2d2d_pose_from_inliers: 0

# 3D-3D pose estimation
optimize_3d3d_pose_from_inliers: 0

# 2D-3D pose estimation method
pnp_algorithm: 3 # EPNP
min_pnp_inliers: 20 #TODO
ransac_threshold_pnp: 1.0 #TODO
optimize_2d3d_pose_from_inliers: 0

# matcher_type options:
#   0: FLANNBASED
#   1: BRUTEFORCE
#   2: BRUTEFORCE_L1
#   3: BRUTEFORCE_HAMMING
#   4: BRUTEFORCE_HAMMINGLUT
#   5: BRUTEFORCE_SL2